Recursively flatten <code>array</code> up to <code>depth</code> times.